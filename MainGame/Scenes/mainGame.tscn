[gd_scene format=3 uid="uid://b50qatksorepn"]

[ext_resource type="Script" uid="uid://b4iql8idvn5sl" path="res://MainGame/Scripts/main_game.gd" id="1_2gnak"]
[ext_resource type="Texture2D" uid="uid://bnptlavybfl6u" path="res://MainGame/Assets/background.png" id="1_bde7d"]
[ext_resource type="Resource" uid="uid://doschogkwtrua" path="res://SceneManager/GameData/game_data.tres" id="2_dql36"]
[ext_resource type="Script" uid="uid://dhq2qu3bnbfvx" path="res://MainGame/Scripts/enemy_spawner.gd" id="3_nwsis"]
[ext_resource type="PackedScene" uid="uid://byo57dlvacb22" path="res://MainGame/Scenes/snowman.tscn" id="4_xuvwu"]
[ext_resource type="PackedScene" uid="uid://bkrpxviudheek" path="res://MainGame/Scenes/player.tscn" id="6_ov1mn"]
[ext_resource type="Script" path="res://MainGame/UI/progress.gd" id="7_ov1mn"]
[ext_resource type="FontFile" uid="uid://rg6wa3iilwt4" path="res://zacks sprites/studio-sim.ttf" id="8_sut4l"]
[ext_resource type="Texture2D" uid="uid://rct4gllcrk77" path="res://MainGame/Assets/panel-transparent-center-009.png" id="9_bfb77"]
[ext_resource type="Script" uid="uid://tqm8icltlbtv" path="res://MainGame/Scenes/level_progress.gd" id="10_e00sl"]
[ext_resource type="Texture2D" uid="uid://ddeh3jcmmcurh" path="res://MainGame/Assets/panel-001.png" id="11_e00sl"]

[sub_resource type="Gradient" id="Gradient_dql36"]
colors = PackedColorArray(0.35998482, 0.8036953, 0.94689673, 1, 0.36078432, 0.8039216, 0.94509804, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_ov1mn"]
gradient = SubResource("Gradient_dql36")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_sut4l"]
texture = SubResource("GradientTexture1D_ov1mn")

[sub_resource type="Gradient" id="Gradient_lobv4"]
colors = PackedColorArray(0, 0.6994867, 0.8331908, 1, 2.3102762e-06, 0.46756995, 0.72347, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_bfb77"]
gradient = SubResource("Gradient_lobv4")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_e00sl"]
texture = SubResource("GradientTexture1D_bfb77")

[sub_resource type="Theme" id="Theme_p0f38"]
ProgressBar/colors/font_color = Color(0.9490196, 0.9490196, 0.9490196, 0)
ProgressBar/colors/font_outline_color = Color(0, 0, 0, 0)
ProgressBar/styles/background = SubResource("StyleBoxTexture_sut4l")
ProgressBar/styles/fill = SubResource("StyleBoxTexture_e00sl")

[sub_resource type="LabelSettings" id="LabelSettings_sut4l"]
font = ExtResource("8_sut4l")
font_size = 52
font_color = Color(0.9999204, 0.45534766, 0.40057117, 1)
outline_size = 15
outline_color = Color(0, 0, 0, 1)

[sub_resource type="Animation" id="Animation_p0f38"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_0sind"]
resource_name = "pulse"
length = 0.75
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.37, 0.75),
"transitions": PackedFloat32Array(1, 1, -0.5),
"update": 0,
"values": [Vector2(1, 1), Vector2(1.19, 1.19), Vector2(1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_7jl2u"]
_data = {
&"RESET": SubResource("Animation_p0f38"),
&"pulse": SubResource("Animation_0sind")
}

[node name="MainGame" type="Node2D" unique_id=253206731]
script = ExtResource("1_2gnak")
gameData = ExtResource("2_dql36")

[node name="Background" type="Sprite2D" parent="." unique_id=950277489]
position = Vector2(962.25, 540)
scale = Vector2(3.1299021, 2.647059)
texture = ExtResource("1_bde7d")

[node name="EnemySpawner" type="Marker2D" parent="." unique_id=452461616]
position = Vector2(960, 539)
script = ExtResource("3_nwsis")
enemies = Array[Resource]([ExtResource("4_xuvwu")])

[node name="EnemySpawnTimer" type="Timer" parent="EnemySpawner" unique_id=1088430609]

[node name="Player" parent="." unique_id=1210048637 instance=ExtResource("6_ov1mn")]
position = Vector2(960, 539)

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=1088437275]

[node name="Control" type="Control" parent="CanvasLayer" unique_id=977657682]
layout_mode = 3
anchor_left = -0.018000001
anchor_top = -0.010000001
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 34.56
offset_top = 10.800001
grow_horizontal = 2
grow_vertical = 2

[node name="Panel" type="ColorRect" parent="CanvasLayer/Control" unique_id=914551030]
self_modulate = Color(0.21230483, 0.21230483, 0.21230483, 1)
layout_mode = 1
anchors_preset = -1
anchor_left = 0.033
anchor_top = 0.037
anchor_right = 0.25800002
anchor_bottom = 0.120000005
offset_left = 0.6399994
offset_top = 0.040000916
offset_right = -0.3600464
offset_bottom = 0.3999939

[node name="ColorRect" type="ColorRect" parent="CanvasLayer/Control/Panel" unique_id=404405502]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.016
anchor_top = 0.037
anchor_right = 0.98200005
anchor_bottom = 0.96300006
offset_left = 0.04799986
offset_top = 0.007999897
offset_right = -0.054016113
offset_bottom = -0.008010864
color = Color(0.33660764, 0.3366076, 0.3366076, 1)

[node name="ProgressBar" type="ProgressBar" parent="CanvasLayer/Control/Panel" unique_id=44614087]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.048
anchor_top = 0.11100001
anchor_right = 0.95000005
anchor_bottom = 0.88900006
offset_left = 0.1439991
offset_top = 0.02399826
offset_right = -0.15002441
offset_bottom = -0.024017334
grow_horizontal = 2
grow_vertical = 2
theme = SubResource("Theme_p0f38")
show_percentage = false
script = ExtResource("7_ov1mn")

[node name="Label" type="Label" parent="CanvasLayer/Control/Panel/ProgressBar" unique_id=2035007948]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 0.16799927
offset_top = -4.014
offset_right = 0.16799927
offset_bottom = 25.014015
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0.9438594, 0, 0.15086222, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("8_sut4l")
theme_override_font_sizes/font_size = 100
text = "Cold Meter"
label_settings = SubResource("LabelSettings_sut4l")
horizontal_alignment = 1
vertical_alignment = 1

[node name="NinePatchRect" type="NinePatchRect" parent="CanvasLayer/Control" unique_id=1227581803]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -438.5
offset_top = -57.90503
offset_right = 438.5
offset_bottom = -7.9101563
grow_horizontal = 2
grow_vertical = 0
texture = ExtResource("9_bfb77")
patch_margin_left = 24
patch_margin_top = 24
patch_margin_right = 24
patch_margin_bottom = 24

[node name="ProgressBar" type="ProgressBar" parent="CanvasLayer/Control/NinePatchRect" unique_id=896114383]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 10.0
offset_top = 9.995239
offset_right = -10.0
offset_bottom = -9.995239
grow_horizontal = 2
grow_vertical = 2
theme = SubResource("Theme_p0f38")
show_percentage = false
script = ExtResource("10_e00sl")

[node name="Label" type="Label" parent="CanvasLayer/Control/NinePatchRect" unique_id=1757035351]
layout_mode = 1
offset_left = 4.5
offset_top = -43.099976
offset_right = 256.5
offset_bottom = 14.900024
pivot_offset = Vector2(107, 14)
theme_override_colors/font_color = Color(0.9438594, 0, 0.15086222, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("8_sut4l")
theme_override_font_sizes/font_size = 43
text = "Level Progress"
label_settings = SubResource("LabelSettings_sut4l")
horizontal_alignment = 1
vertical_alignment = 1

[node name="LevelLabel" type="Label" parent="CanvasLayer/Control/NinePatchRect" unique_id=925291464]
layout_mode = 1
offset_left = 699.5
offset_top = -41.099976
offset_right = 874.5
offset_bottom = 16.900024
pivot_offset = Vector2(252, 29)
theme_override_colors/font_color = Color(0.9438594, 0, 0.15086222, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("8_sut4l")
theme_override_font_sizes/font_size = 43
text = "Level 100"
label_settings = SubResource("LabelSettings_sut4l")
horizontal_alignment = 2
vertical_alignment = 1

[node name="LevelReadyButton" type="NinePatchRect" parent="CanvasLayer/Control/NinePatchRect" unique_id=250741383]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("11_e00sl")
patch_margin_left = 24
patch_margin_top = 24
patch_margin_right = 24
patch_margin_bottom = 24

[node name="ButtonHoldProgress" type="ProgressBar" parent="CanvasLayer/Control/NinePatchRect/LevelReadyButton" unique_id=1468914782]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 0.5
offset_top = -0.0949707
offset_right = 0.5
offset_bottom = -0.08984375
grow_horizontal = 2
grow_vertical = 2
theme = SubResource("Theme_p0f38")
fill_mode = 3
show_percentage = false

[node name="Label3" type="Label" parent="CanvasLayer/Control/NinePatchRect/LevelReadyButton" unique_id=46929802]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.356
anchor_top = -0.080000006
anchor_right = 0.64400005
anchor_bottom = 1.08
offset_left = -15.712006
offset_top = 9.904619
offset_right = 15.711975
offset_bottom = 9.910564
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(107, 14)
theme_override_colors/font_color = Color(0.9438594, 0, 0.15086222, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("8_sut4l")
theme_override_font_sizes/font_size = 43
text = "Hold Mouse Button"
label_settings = SubResource("LabelSettings_sut4l")
horizontal_alignment = 1
vertical_alignment = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer/Control/NinePatchRect/LevelReadyButton/Label3" unique_id=1384432871]
libraries/ = SubResource("AnimationLibrary_7jl2u")
autoplay = &"pulse"

[node name="TimeLeft" type="Timer" parent="." unique_id=1370640309]

[connection signal="timeout" from="EnemySpawner/EnemySpawnTimer" to="EnemySpawner" method="_on_timer_timeout"]
[connection signal="timeout" from="TimeLeft" to="CanvasLayer/Control/Panel/ProgressBar" method="_on_time_left_timeout"]
